<h1 align="center">Sprint </h1>

[![Typing SVG](https://readme-typing-svg.herokuapp.com?color=%2336BCF7&lines=Проект+Pereval)](https://git.io/typing-svg)

На сайте https://pereval.online/ Федерация Спортивного Туризма России (ФСТР) ведет базу данных горных перевалов, которую пополняют туристы. ФСТР заказала разработку мобильного приложения для Android и iOS, которое упростит процесс отправки данных о перевалах и сократит время обработки запросов до трех дней.
Пользователи приложения — туристы, которые будут вносить данные о перевалах и отправлять их в ФСТР, как только у них появится доступ к интернету. Модераторы ФСТР будут верифицировать полученные данные и вносить их в базу. Пользователи смогут отслеживать статус модерации своих заявок и просматривать базу данных, содержащую объекты, добавленные другими туристами.


# Первый спринт: Основные задачи

_1. Создание базы данных PostgreSQL_

    •	Структура базы данных: Использована реляционная модель с нормализацией данных. Созданы следующие таблицы: Users (информация о туристах), Coords (координаты перевалов), Pereval (основная информация о перевалах), Images (изображения перевалов). В таблице Pereval добавлено поле status для отслеживания статуса модерации перевала. Статусы модерации: new — новая заявка, pending — заявка на модерации, accepted — заявка принята, rejected — заявка отклонена

_2. Разработка класса для работы с базой данных_

    •	Создан класс DatabaseHandler для взаимодействия с базой данных. Методы класса позволяют: Добавлять и обновлять информацию о пользователях, перевалах и координатах. Управлять изображениями перевалов.

_3. Реализация REST API_

    •	POST /submitData: Метод для добавления нового перевала в базу данных. Устанавливается статус new по умолчанию.

# Второй спринт: Добавление новых возможностей

_1. Реализация дополнительных методов REST API_

    •	GET /submitData/<id>: Получить информацию о перевале по его идентификатору (id). Возвращает все данные о перевале, включая его статус и связанные координаты, пользователя и изображения. PATCH /submitData/<id>: Обновить существующую запись о перевале. Обновлению подлежат все поля, кроме ФИО, email и номера телефона пользователя, если статус перевала — new. Если статус отличается от new, обновление отклоняется. GET /submitData/?user__email=<email>: Получить список всех перевалов, которые добавил пользователь по email. Выводится информация обо всех перевалах, которые отправил данный пользователь, включая их статусы.

_2. Публикация API_

    •	Проведена публикация REST API на облаке. API готово к использованию в мобильных и веб-приложениях для отправки и получения данных о перевалах.

# Третий спринт: Документация и тестирование

_1. Документация_ 

    •	README.md: Описаны все методы API и их назначение. Указана структура базы данных и использованные технологии. Приведены примеры запросов и ответов API. Swagger: Настроена автодокументация с помощью Swagger для удобного взаимодействия с API. Swagger UI и ReDoc доступны для просмотра документации API. Примеры: Swagger: /swagger/ ReDoc: /redoc/

_2. Покрытие кода тестами_

    •	Реализованы тесты для проверки работы API: Тестирование создания новой записи о перевале. Тестирование получения данных о перевале по его идентификатору. Тестирование обновления перевала, включая проверку на статус модерации. Тесты для проверки отсутствия обязательных полей при создании перевала. Тестирование получения списка перевалов пользователя по email. Все тесты проходят успешно, что гарантирует корректную работу API.

    
# Используемые технологии:

База данных: PostgreSQL
Фреймворк для создания REST API: Django Rest Framework
Документация: Swagger (drf-yasg)

# Дополнительно
API задеплоено в облаке и готово к использованию в реальных приложениях.
Проект поддерживает расширение функционала для работы с пользователями и данными о перевалах.

